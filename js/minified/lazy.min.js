function onIntersection(e,o){e.forEach(e=>{e.isIntersecting&&(loadVideoSources(e=e.target),o.unobserve(e))})}function loadVideoSources(e){var o=e.querySelector('source[type="video/webm"]'),r=e.querySelector('source[type="video/mp4"]');isWebMSupported()?(o.src=o.getAttribute("data-src"),r.remove()):(o.remove(),r.src=r.getAttribute("data-src")),e.load()}function isWebMSupported(){return""!==document.createElement("video").canPlayType('video/webm; codecs="vp8, vorbis"')}let observerOptions={root:null,rootMargin:"0px",threshold:.1},observer=new IntersectionObserver(onIntersection,observerOptions);document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("video").forEach(e=>{observer.observe(e)})});